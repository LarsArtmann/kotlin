language = C

---

#include <stdint.h>

void assertNativeThreadState();

int32_t runCallback(void(*callback)()) {
    assertNativeThreadState();
    callback();
    assertNativeThreadState();
}

int32_t answer() {
    assertNativeThreadState();
    return 42;
}

void runInNewThread(int32_t(*callback)());